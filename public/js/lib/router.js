// Generated by CoffeeScript 1.6.2
(function() {
  var Router, _ref;

  window.Namespace = (_ref = window.Namespace) != null ? _ref : {};

  Router = (function() {
    function Router() {
      var self;

      self = this;
      this.currentPage = false;
      this.container = $('#main');
      $(window).on('hashchange', function(e) {
        return self.route.call(self, e);
      });
    }

    Router.prototype.route = function(e) {
      var hash, page, self;

      self = this;
      hash = window.location.hash;
      if (hash === "#home") {
        page = Handlebars.templates['home']();
        return this.render(page);
      } else {
        page = Handlebars.templates['home']();
        return this.render(page);
      }
    };

    Router.prototype.render = function(page, cb) {
      cb = cb != null ? cb : function() {};
      page = $(page);
      this.container.append(page);
      if (!this.currentPage) {
        page.addClass('show');
        this.currentPage = page;
        return;
      }
      this.currentPage.one('webkitTransitionEnd', function(e) {
        return $(e.target).remove();
      });
      this.container[0].offsetWidth;
      page.addClass('show');
      this.currentPage.removeClass('show');
      this.currentPage = page;
      return cb();
    };

    return Router;

  })();

  window.Namespace.Router = Router;

}).call(this);
